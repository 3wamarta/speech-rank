package com.github.peggybrown.speechrank;import ratpack.handling.Context;import ratpack.server.RatpackServer;import static com.github.peggybrown.speechrank.ConferencesProvider.getConference;import static com.github.peggybrown.speechrank.ConferencesProvider.getConferences;//@Datapublic class Main {    public static void main(String... args) throws Exception {        RatpackServer.start(server -> server                .handlers(chain -> chain                        .post("rating", ctx ->                                ctx.parse(Rate.class).then(rate -> ctx.render(rate.getRateValue())))                        .post("comment", ctx ->                                ctx.parse(Comment.class).then(comment -> ctx.render(comment.getCommentValue())))                        .get(ctx -> ctx.render(options))                        .get("conferences", ctx -> ctx.render(getConferences()))                                .get("conference/:name", ctx -> {                                    ctx.render(getConference(ctx.getPathTokens().get("name")));                                })));    }    private static String options = "GET /conferences\n" +            "GET /conference/:id\n" +            "POST /rating\n" +            "POST /comment\n";}
